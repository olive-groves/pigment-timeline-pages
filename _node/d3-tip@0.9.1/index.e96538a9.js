import{map as D}from"../d3-collection@1.0.7/index.0f51bab4.js";import{selection as C,select as H}from"../d3-selection@1.4.2/index.5ec599a4.js";function P(){var m=W,h=S,g=A,p=document.body,r=E(),d=null,e=null,w=null;function n(t){d=q(t),d&&(e=d.createSVGPoint(),p.appendChild(r))}n.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(w=t.pop());var l=g.apply(this,t),o=h.apply(this,t),s=m.apply(this,t),i=a(),c=b.length,f,x=document.documentElement.scrollTop||p.scrollTop,v=document.documentElement.scrollLeft||p.scrollLeft;for(i.html(l).style("opacity",1).style("pointer-events","all");c--;)i.classed(b[c],!1);return f=T.get(s).apply(this),i.classed(s,!0).style("top",f.top+o[0]+x+"px").style("left",f.left+o[1]+v+"px"),n},n.hide=function(){var t=a();return t.style("opacity",0).style("pointer-events","none"),n},n.attr=function(t,l){if(arguments.length<2&&typeof t=="string")return a().attr(t);var o=Array.prototype.slice.call(arguments);return C.prototype.attr.apply(a(),o),n},n.style=function(t,l){if(arguments.length<2&&typeof t=="string")return a().style(t);var o=Array.prototype.slice.call(arguments);return C.prototype.style.apply(a(),o),n},n.direction=function(t){return arguments.length?(m=t==null?t:y(t),n):m},n.offset=function(t){return arguments.length?(h=t==null?t:y(t),n):h},n.html=function(t){return arguments.length?(g=t==null?t:y(t),n):g},n.rootElement=function(t){return arguments.length?(p=t==null?t:y(t),n):p},n.destroy=function(){return r&&(a().remove(),r=null),n};function W(){return"n"}function S(){return[0,0]}function A(){return" "}var T=D({n:G,s:L,e:V,w:B,nw:M,ne:N,sw:k,se:z}),b=T.keys();function G(){var t=u(this);return{top:t.n.y-r.offsetHeight,left:t.n.x-r.offsetWidth/2}}function L(){var t=u(this);return{top:t.s.y,left:t.s.x-r.offsetWidth/2}}function V(){var t=u(this);return{top:t.e.y-r.offsetHeight/2,left:t.e.x}}function B(){var t=u(this);return{top:t.w.y-r.offsetHeight/2,left:t.w.x-r.offsetWidth}}function M(){var t=u(this);return{top:t.nw.y-r.offsetHeight,left:t.nw.x-r.offsetWidth}}function N(){var t=u(this);return{top:t.ne.y-r.offsetHeight,left:t.ne.x}}function k(){var t=u(this);return{top:t.sw.y,left:t.sw.x-r.offsetWidth}}function z(){var t=u(this);return{top:t.se.y,left:t.se.x}}function E(){var t=H(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function q(t){var l=t.node();return l?l.tagName.toLowerCase()==="svg"?l:l.ownerSVGElement:null}function a(){return r==null&&(r=E(),p.appendChild(r)),H(r)}function u(t){for(var l=w||t;l.getScreenCTM==null&&l.parentNode!=null;)l=l.parentNode;var o={},s=l.getScreenCTM(),i=l.getBBox(),c=i.width,f=i.height,x=i.x,v=i.y;return e.x=x,e.y=v,o.nw=e.matrixTransform(s),e.x+=c,o.ne=e.matrixTransform(s),e.y+=f,o.se=e.matrixTransform(s),e.x-=c,o.sw=e.matrixTransform(s),e.y-=f/2,o.w=e.matrixTransform(s),e.x+=c,o.e=e.matrixTransform(s),e.x-=c/2,e.y-=f/2,o.n=e.matrixTransform(s),e.y+=f,o.s=e.matrixTransform(s),o}function y(t){return typeof t=="function"?t:function(){return t}}return n}export{P as default};
